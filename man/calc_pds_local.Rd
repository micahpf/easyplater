% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_pds.R
\name{calc_pds_local}
\alias{calc_pds_local}
\title{Calculate local plate design score}
\usage{
calc_pds_local(
  plate_df,
  columns_for_scoring,
  column_weights,
  patch_weight = NULL
)
}
\arguments{
\item{plate_df}{Data frame of samples and associated clinical metadata variables.}

\item{columns_for_scoring}{Character vector of column names to use for scoring.}

\item{column_weights}{Numeric vector of weights to use for the variables in \code{columns_for_scoring}. Must be same length as \code{columns_for_scoring}.}

\item{patch_weight}{down-weighting for \eqn{PDS_{patch}}, required because \eqn{|patches|=3(|rows|+|columns|)}. If NULL, weight is calculated automatically. Default value for 96-well plates is 1/6. \strong{TO DO: Avi, check this description}}
}
\value{
A numeric scalar.
}
\description{
The condition that variable-wise homogeneous rows, columns and patches should be avoided in a plate design is captured by the sub-score \eqn{PDS_local}. We define \eqn{PDS_local} to be an inverse-penalty based score such that plate designs that have a non-homogeneous distribution of values for every variable in every row, column and patch score maximally, while deviations from this are penalized.
}
\examples{
# An example of a preprocessed plate dataframe
str(example_plate_df)

cols_for_scoring <- names(example_plate_df)[2:5]
col_weights <- c(5, 5, 10, 4)
calc_pds_local(example_plate_df, cols_for_scoring, col_weights)
}
